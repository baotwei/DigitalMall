<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.edu.hzvtc.dao.GoodsTypeMapper">
  <resultMap id="BaseResultMap" type="cn.edu.hzvtc.pojo.GoodsType">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 19 10:32:21 CST 2021.
    -->
    <id column="goods_type_id" jdbcType="INTEGER" property="id" />
    <result column="goods_type_name" jdbcType="VARCHAR" property="goodsTypeName" />
    <result column="goods_type" jdbcType="INTEGER" property="goodsType" />
    <result column="goods_type_parent_id" jdbcType="INTEGER" property="goodsTypeParentId" />
    <result column="sort_num" jdbcType="INTEGER" property="sortNum" />
    <result column="del_state" jdbcType="INTEGER" property="delState" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 19 10:32:21 CST 2021.
    -->
    delete from goods_type
    where goods_type_id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="cn.edu.hzvtc.pojo.GoodsType">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 19 10:32:21 CST 2021.
    -->
    insert into goods_type (goods_type_id, goods_type_name,goods_type, goods_type_parent_id,
    sort_num, del_state)
    values (#{id,jdbcType=INTEGER}, #{goodsTypeName,jdbcType=VARCHAR},  #{goodsType,jdbcType=INTEGER},#{goodsTypeParentId,jdbcType=INTEGER},
       #{sortNum,jdbcType=INTEGER},
      #{delState,jdbcType=INTEGER})
  </insert>
  <insert id="insert1" parameterType="cn.edu.hzvtc.pojo.GoodsType">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 19 10:32:21 CST 2021.
    -->
    insert into goods_type (goods_type_id, goods_type_name,goods_type, goods_type_parent_id,
    sort_num, del_state)
    values (#{id,jdbcType=INTEGER}, #{goodsTypeName,jdbcType=VARCHAR},  #{goodsType,jdbcType=INTEGER},#{goodsTypeParentId,jdbcType=INTEGER},
    #{sortNum,jdbcType=INTEGER},
    0)
  </insert>
  <update id="updateByPrimaryKey" parameterType="cn.edu.hzvtc.pojo.GoodsType">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 19 10:32:21 CST 2021.
    -->
    update goods_type
    set goods_type_name = #{goodsTypeName,jdbcType=VARCHAR},
    goods_type= #{goodsType,jdbcType=INTEGER},
    goods_type_parent_id = #{goodsTypeParentId,jdbcType=INTEGER},
    sort_num = #{sortNum,jdbcType=INTEGER},
    del_state = #{delState,jdbcType=INTEGER}
    where goods_type_id = #{id,jdbcType=INTEGER}
  </update>

  <update id="updateByPrimaryKey1" parameterType="cn.edu.hzvtc.pojo.GoodsType">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 19 10:32:21 CST 2021.
    -->
    update goods_type
    <set>
      <if test="goodsTypeName != null">
        goods_type_name = #{goodsTypeName,jdbcType=VARCHAR},
      </if>
      <if test="goodsType != null">
        goods_type= #{goodsType,jdbcType=INTEGER},
      </if>
      <if test="goodsTypeParentId != null">
        goods_type_parent_id = #{goodsTypeParentId,jdbcType=INTEGER},
      </if>
      <if test="sortNum != null">
        sort_num = #{sortNum,jdbcType=INTEGER},
      </if>
      <if test="delState != null">
        del_state = #{delState,jdbcType=INTEGER}
      </if>
    </set>
    where goods_type_id = #{id,jdbcType=INTEGER}
  </update>


  <update id="deleteByPrimaryKey1" parameterType="cn.edu.hzvtc.pojo.GoodsType">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 19 10:32:21 CST 2021.
    -->
    update goods_type
    set
    del_state = 1
    where goods_type_id = #{id,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 19 10:32:21 CST 2021.
    -->
    select goods_type_id, goods_type_name, goods_type,goods_type_parent_id,
    sort_num, del_state
    from goods_type
    where goods_type_id = #{id,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 19 10:32:21 CST 2021.
    -->
    select goods_type_id, goods_type_name, goods_type,goods_type_parent_id,
    sort_num, del_state
    from goods_type
  </select>

  <resultMap id="ChildrenResultMap" type="cn.edu.hzvtc.pojo.GoodsType">
    <id column="goods_type_id" jdbcType="INTEGER" property="id" />
    <result column="goods_type_name" jdbcType="VARCHAR" property="goodsTypeName" />
    <result column="goods_type_name" jdbcType="VARCHAR" property="text" />
    <result column="goods_type" jdbcType="INTEGER" property="goodsType" />
    <result column="goods_type_parent_id" jdbcType="INTEGER" property="goodsTypeParentId" />
    <result column="sort_num" jdbcType="INTEGER" property="sortNum" />
    <result column="del_state" jdbcType="INTEGER" property="delState" />
    <discriminator javaType="INTEGER" column="goods_type">
      <case value="1">
        <collection property="nodes" select="cn.edu.hzvtc.dao.GoodsTypeMapper.selectAllForTree"
                    column="goods_type_id"/>
      </case>
      <case value="2">
        <collection property="nodes" select="cn.edu.hzvtc.dao.GoodsTypeMapper.selectAllForTree"
                    column="goods_type_id"/>
      </case>
      <case value="3">
        <collection property="nodes" select="cn.edu.hzvtc.dao.GoodsTypeMapper.selectAllForTree"
                    column="goods_type_id"/>
      </case>
    </discriminator>

  </resultMap>

  <select id="selectAllForTree" resultMap="ChildrenResultMap">
    select goods_type_id, goods_type_name, goods_type,goods_type_parent_id,
    sort_num, del_state
    from goods_type
    where
    <if test="goodsTypeParentId == 0">
      del_state=0 and goods_type_parent_id=0
    </if>
    <if test="goodsTypeParentId != 0">
      del_state=0 and goods_type_parent_id=#{goodsTypeParentId,jdbcType=INTEGER}
    </if>
    order by sort_num
  </select>

  <resultMap id="ChildrenResultMap1" type="cn.edu.hzvtc.pojo.GoodsType">
    <id column="goods_type_id" jdbcType="INTEGER" property="id" />
    <result column="goods_type_name" jdbcType="VARCHAR" property="goodsTypeName" />
    <result column="goods_type_name" jdbcType="VARCHAR" property="text" />
    <result column="goods_type" jdbcType="INTEGER" property="goodsType" />
    <result column="goods_type_parent_id" jdbcType="INTEGER" property="goodsTypeParentId" />
    <result column="sort_num" jdbcType="INTEGER" property="sortNum" />
    <result column="del_state" jdbcType="INTEGER" property="delState" />
    <discriminator javaType="INTEGER" column="goods_type">
      <case value="1">
        <collection property="nodes" select="cn.edu.hzvtc.dao.GoodsTypeMapper.selectByPrimaryKey1"
                    column="goods_type_parent_id"/>
      </case>
      <case value="2">
        <collection property="nodes" select="cn.edu.hzvtc.dao.GoodsTypeMapper.selectByPrimaryKey1"
                    column="goods_type_parent_id"/>
      </case>
      <case value="3">
        <collection property="nodes" select="cn.edu.hzvtc.dao.GoodsTypeMapper.selectByPrimaryKey1"
                    column="goods_type_parent_id"/>
      </case>
    </discriminator>

  </resultMap>
  <select id="selectByPrimaryKey1" parameterType="java.lang.Integer" resultMap="ChildrenResultMap1">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 19 10:32:21 CST 2021.
    -->
    select goods_type_id, goods_type_name, goods_type,goods_type_parent_id,
    sort_num, del_state
    from goods_type
    where goods_type_id = #{id,jdbcType=INTEGER} and  del_state=0
  </select>
</mapper>